<?php
/**
 * Developer Configuration file for local.conf settings.
 * DO NOT CHECK IN THIS FILE.
 * To use, copy include/dev_local.conf.sample to include/dev_local.conf.
 * Then override the settings below.
 */

// Common values used in config
$hostname = 'localhost';  // e.g. 'fedev.utah.trulia.com'
//$uri_path = str_replace(array('data/home/', 'public_html/'), array('~', ''), dirname(__DIR__))."/";
$uri_path = '/';
preg_match("/^\/~([^\/]*).*\/(.*)\/$/", $uri_path, $matches);
$username = $matches[1];
//$web_root = '/data/home/'.$username.'/public_html/'.$matches[2].'/';
$web_root = '/var/www/web/';
$is_secure_server = (array_key_exists('HTTPS', $_SERVER) && $_SERVER['HTTPS'] == 'on');
$clean_request_path = str_replace("/~$username/$matches[2]/",'', $_SERVER['REQUEST_URI']);

$global_vars_overrides = array(
  // Path config
  'COMMON_INCLUDE_PATH'    => '/var/www/common/common/',
  'DB_HANDLE_INCLUDE_PATH' => '/var/www/common/db_handle/',
  'XMLRPC_INCLUDE_PATH'    => '/var/www/comon/common/libs/xmlrpc/',
  'WEB_DOCUMENT_ROOT'      => $web_root,
  'SMARTY_TEMPLATE_PATH'   => $web_root . 'stemplates/',
  'SMARTY_CACHE_PATH'      => '/data/smarty/',  // Local path to cache Smarty templates and output.

  // Server config
  'SERVER' => 'DEV',
  'SERVER_ID' => 'DEV',
  'SERVER_HOST' => $hostname,
  'SECURE_SERVER_HOST' => $hostname,
  'NON_SECURE_SERVER_HOST' => $hostname,
  'IS_SECURE_SERVER' => ($is_secure_server ? 'yes' : 'no'),
  'IS_BOT_SERVER' => 'no',
  'PROTOCOL' => ($is_secure_server ? 'https://' : 'http://'),
  'SECURE_PROTOCOL' => 'http://',

  // Various URI config
  'URI_PATH'            => $uri_path,
  'JS_SERVER_ROOT'      => $uri_path,
  'CSS_SERVER_ROOT'     => $uri_path,
  'OOCSS_SERVER_ROOT'   => '/oocss/build/',
  'MOBILE_SERVER_HOST'  => $hostname,
  'SYNDICATION_HOST'    => $hostname,
  'SPOTLIGHT_HOST'      => $hostname,
  'IMAGE_SERVER'        => "http://static.trulia-cdn.com",
  'PICTURE_SERVER'      => "http://thumbs.trulia-cdn.com", // for stage picture server, switch to: stage-image.sv2.trulia.com
  'MOBILE_URI_PATH'     => '/~'.$username.'/mobile/',
  'CLEAN_REQUEST_URI'   => $clean_request_path,
  'TRACKING_SERVER'     => 'http://images.trulia.com',
  'SPAMBAYES_SERVER'    => 'http://localhost',
  'LEAD_REPLY_HOST'     => 'xdev.trulia.com',
  'PAYPAL_PROXY_SERVER' => 'http://fedev.utah.trulia.com/~web/paypal/',
  'CRAIGSLIST_LINK_SERVER' => 'http://fedev.utah.trulia.com',

  // Misc Config
  'OMNITURE_ACCOUNT_ID' => 'truliadev',
  'ACTIVEMQ_QUEUE_SERVER' => $username,
  'LEAD_REPLY_PREFIX' => "$username+",

  // Leads config
  // For more info: http://knowledge.corp.trulia.com/display/bizser/Getting+leads+to+run+in+DEV
  'LEAD_PROCESS_DIRECTLY' => false,
  'LEADS_INCLUDE_PATH'    => '/data/home/'.$username.'/lib/leads/include/',

  // Smarty Config
  'SMARTY_CACHING_ALLOWED'  => 0,
  'SMARTY_CACHING'          => 0,
  'SMARTY_FORCE_COMPILE'    => 1,
  'SMARTY_DEBUGGING'        => false,
  'SMARTY_DEBUGGING_CTRL'   => 'NONE',
  'SMARTY_ERROR_REPORTING'  => E_ALL ^ E_NOTICE,

  // Twilio
  'TWILIO_ACCOUNT_SID' => 'AC85c8b3dc16a7e7c034a3795b1df7c84f',
  'TWILIO_AUTH_TOKEN' => '1887f9f6e1bbec8c3071ca64d80efee9',

  // Facebook config
  'FACEBOOK_APP_ID' => '107187662675870',
  'FACEBOOK_API_KEY' => 'af0afb44716ecb6ff7bcc65ccb782f50',
  'FACEBOOK_SECRET' => 'e0d9f82cd9f74f8ae498e7a0fd5126be',
  'FACEBOOK_APP_NAMESPACE' => 'truliafb',
  'FACEBOOK_APP_HOME_STORY_ID' => '250236105064127',
  'FACEBOOK_HOME_STORY_SECRET' => '3232106ecf29806a36084d43b3f0e91e',
  'FACEBOOK_HOME_STORY_APP_NAMESPACE' => 'trulia_home_story_d',
  'FACEBOOK_HOME_STORY_APP_REDIRECT' => 'http://www.facebook.com/pages/Marty-Trulia/105031742905900?sk=app_',

	'FACEBOOK_TRULIA_RENTAL_APP_ID' => '197858403688264',
	'FACEBOOK_TRULIA_RENTAL_SECRET' => '8368ea36c2607eeb8a017bbc9c3af72d',

  // Non-typical overrides
  //'GEOIP_ADDRESS_OVERRIDE' => '214.244.97.188',

  // Fraud options - pick one or none
  //'GEOIP_ADDRESS_OVERRIDE' => '66.249.16.100', // Seattle, WA
  //'GEOIP_ADDRESS_OVERRIDE' => '41.75.192.100', // Nigeria
  //'GEOIP_ADDRESS_OVERRIDE' => '67.202.38.26',  // Blacklisted IP

  // Developer productivity settings
  'ALLOW_DUPLICATE_LEADS' => 1,

);

// Override settings
$global_vars = array_merge($global_vars, $global_vars_overrides);
unset($global_vars_overrides);

/* vim: set ft=php: */

